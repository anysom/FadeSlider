var fallbackThrottle=function(t,n){var e=null;return function(){var a=this,i=arguments;null===e&&(e=setTimeout(function(){t.apply(a,i),e=null},n))}};!function(t,n){if("function"==typeof define&&define.amd)define(["zeptojs","lodash/throttle","hammerjs"],n);else if("object"==typeof exports){var e=require("lodash/throttle"),a=require("hammerjs"),i=require("zeptojs");module.exports=n(i,e,a)}else{var i=t.$||t.zepto||t.jQuery,e=void 0!==t._?t._.throttle:null;t.FadeSlider=n(i,e,t.Hammer)}}(this,function(t,n,e){"use strict";return n=n||fallbackThrottle,function(a,i){i=i||{};var o,s,r=a.find(".fade-slider__page"),d=a.find(".fade-slider__indicator"),l=0,c=0,f=this,u=function(t,n,a){return t&e.DIRECTION_HORIZONTAL?n:a},h=function(t,n){t.css("transform",n),t.css("mozTransform",n),t.css("webkitTransform",n)},m=function(n){d.removeClass("active"),t(d[n]).addClass("active")},p=function(n,e,o){n=Math.max(0,Math.min(n,r.length-1)),o?a.addClass("animate"):a.removeClass("animate");for(var s,d,c,f,u,m=.25,p=0;p<r.length;p++)c=t(r[p]),e<=0?((p>n||p===n&&o)&&(c.css("opacity",1),d=l/100*(100*(p-n)+e),s="translate3d("+d+"px, 0, 0)",h(c,s)),(p===n&&!o||p===n-1&&o)&&(u=(100+(o?-100:e))/100,f=Math.min((100+m*(o?-100:e))/100,1),c.css("opacity",u),s="scale("+f+")",h(c,s))):(p>=n&&(c.css("opacity",1),d=l/100*(100*(p-n)+e),s="translate3d("+d+"px, 0, 0)",h(c,s)),p===n-1&&(u=(0+(o?-100:e))/100,f=Math.min((100*(1-m)+m*(o?-100:e))/100,1),c.css("opacity",u),s="scale("+f+")",h(c,s)));i.onPan&&i.onPan(n,e,o)},v=function(t){var n=u(e.DIRECTION_HORIZONTAL,t.deltaX,t.deltaY);if(!(Math.abs(n)<20)){var a=100/l*n,i=!1;"panend"!==t.type&&"pancancel"!==t.type||(Math.abs(a)>20&&"panend"===t.type&&(c+=a<0?1:-1,c=Math.min(c,r.length-1),c=Math.max(c,0)),a=0,i=!0),p(c,a,i),m(c)}},w=function(){o=new e.Manager(a[0]),o.add(new e.Pan({direction:e.DIRECTION_HORIZONTAL,threshold:10})),o.on("panstart panmove panend pancancel",v)},g=function(){if(s!==t(window).width()){s=t(window).width(),l=a.width(),r.width(l);t(window).width()>=window.settings.layoutBreakpoint?window.settings.gutter:window.settings.gutterSmall;setTimeout(function(){var n=0;r.each(function(){n=Math.max(n,t(this).height())}),a.find(".fade-slider__list").height(n)},1);var n,e;for(n=0;n<r.length;n++)e="translate3d("+l*n+"px, 0, 0)",h(t(r[n]),e)}},T=function(){g(),w(),a.addClass("initialized"),t(window).on("resize",n(g,50,{leading:!0})),r.each(function(){var n=0,e=t(this),a=e.index();e.on("mousedown",function(t){n=t.clientX||0}),e.on("mouseup",function(t){var e=(t.clientX||0)-n;if(e=Math.abs(e),e<10){var i=a===c?c-1:a;f.goToIndex(i)}})}),a.find(".fade-slider__indicator").on("click",function(){var n=t(this).index();n!==c&&f.goToIndex(n)}),a.find(".fade-slider__indicator").first().addClass("active")};T(),this.goToIndex=function(t){if(!(t<0||t>=r.length)){var n=c-t,e=Math.abs(n),i=0,o=function(){var t=n<0?1:-1;c+=t,p(c,0,!0),i++,m(c),i<e?(a.addClass("linear-ease"),setTimeout(o,250)):setTimeout(function(){a.removeClass("linear-ease")},350)};o()}}}});
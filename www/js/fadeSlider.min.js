var fallbackThrottle=function(t,n){var e=null;return function(){var a=this,i=arguments;null===e&&(e=setTimeout(function(){t.apply(a,i),e=null},n))}};!function(t,n){if("function"==typeof define&&define.amd)define(["zeptojs","lodash/throttle","hammerjs"],n);else if("object"==typeof exports){var e=require("lodash/throttle"),a=require("hammerjs"),i=require("zeptojs");module.exports=n(i,e,a)}else{var i=t.$||t.zepto||t.jQuery,e=void 0!==t._?t._.throttle:null;t.FadeSlider=n(i,e,t.Hammer)}}(this,function(t,n,e){"use strict";return n=n||fallbackThrottle,function(a){var i,o,s=a.find(".fade-slider__page"),r=a.find(".fade-slider__indicator"),d=0,l=0,c=this,f=function(t,n,a){return t&e.DIRECTION_HORIZONTAL?n:a},u=function(t,n){t.css("transform",n),t.css("mozTransform",n),t.css("webkitTransform",n)},h=function(n){r.removeClass("active"),t(r[n]).addClass("active")},m=n(function(){window.bLazy.revalidate()},400,{leading:!1}),p=function(n,e,i){n=Math.max(0,Math.min(n,s.length-1)),i?a.addClass("animate"):a.removeClass("animate");for(var o,r,l,c,f,h=.25,p=0;p<s.length;p++)l=t(s[p]),e<=0?((p>n||p===n&&i)&&(l.css("opacity",1),r=d/100*(100*(p-n)+e),o="translate3d("+r+"px, 0, 0)",u(l,o)),(p===n&&!i||p===n-1&&i)&&(f=(100+(i?-100:e))/100,c=Math.min((100+h*(i?-100:e))/100,1),l.css("opacity",f),o="scale("+c+")",u(l,o))):(p>=n&&(l.css("opacity",1),r=d/100*(100*(p-n)+e),o="translate3d("+r+"px, 0, 0)",u(l,o)),p===n-1&&(f=(0+(i?-100:e))/100,c=Math.min((100*(1-h)+h*(i?-100:e))/100,1),l.css("opacity",f),o="scale("+c+")",u(l,o)));m()},w=function(t){var n=f(e.DIRECTION_HORIZONTAL,t.deltaX,t.deltaY);if(!(Math.abs(n)<20)){var a=100/d*n,i=!1;"panend"!==t.type&&"pancancel"!==t.type||(Math.abs(a)>20&&"panend"===t.type&&(l+=a<0?1:-1,l=Math.min(l,s.length-1),l=Math.max(l,0)),a=0,i=!0),p(l,a,i),h(l)}},v=function(){i=new e.Manager(a[0]),i.add(new e.Pan({direction:e.DIRECTION_HORIZONTAL,threshold:10})),i.on("panstart panmove panend pancancel",w)},g=function(){if(o!==t(window).width()){o=t(window).width(),d=a.width(),s.width(d);var n=t(window).width()>=window.settings.layoutBreakpoint?window.settings.gutter:window.settings.gutterSmall,e=(d-n)*(380/560),i=t(window).height()-300;e=Math.min(e,i),a.find(".fade-slider__list, .fade-slider__page").height(e);var r,l;for(r=0;r<s.length;r++)l="translate3d("+d*r+"px, 0, 0)",u(t(s[r]),l)}},_=function(){g(),v(),a.addClass("initialized"),t(window).on("resize",n(g,50,{leading:!0})),s.each(function(){var n=0,e=t(this),a=e.index();e.on("mousedown",function(t){n=t.clientX||0}),e.on("mouseup",function(t){var e=(t.clientX||0)-n;if(e=Math.abs(e),e<10){var i=a===l?l-1:a;c.goToIndex(i)}})}),a.find(".fade-slider__indicator").on("click",function(){var n=t(this).index();n!==l&&c.goToIndex(n)}),a.find(".fade-slider__indicator").first().addClass("active")};_(),this.goToIndex=function(t){if(!(t<0||t>=s.length)){var n=l-t,e=Math.abs(n),i=0,o=function(){var t=n<0?1:-1;l+=t,p(l,0,!0),i++,h(l),i<e?(a.addClass("linear-ease"),setTimeout(o,250)):setTimeout(function(){a.removeClass("linear-ease")},350)};o()}}}});
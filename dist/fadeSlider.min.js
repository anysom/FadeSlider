var fallbackThrottle=function(e,t){var n=null;return function(){var a=this,i=arguments;null===n&&(n=setTimeout(function(){e.apply(a,i),n=null},t))}};!function(e,t){if("function"==typeof define&&define.amd)define(["lodash/throttle","hammerjs"],t);else if("object"==typeof exports){var n=require("lodash/throttle"),a=require("hammerjs");module.exports=t(n,a)}else{var n=void 0!==e._?e._.throttle:null;e.FadeSlider=t(n,e.Hammer)}}(this,function(e,t){"use strict";return e=e||fallbackThrottle,function(n,a){a=a||{},a.onPan=a.onPan||null,a.scaleModifier=a.scaleModifier||.25,a.resizeThrottleDelay=a.resizeThrottleDelay||50;var i,r,l=n.querySelectorAll(".fade-slider__page"),o=n.querySelectorAll(".fade-slider__indicator"),s=0,d=0,c=this,f=function(e,n,a){return e&t.DIRECTION_HORIZONTAL?n:a},h=function(e){for(var t=0;t<l.length&&e!==l[t];t++);return t},u=function(e,t){e.style.transform=t,e.style.mozTransform=t,e.style.webkitTransform=t},v=function(e){if(o.length>0){for(var t=0;t<o.length;t++)o[t].classList.remove("active");o[e].classList.add("active")}},m=function(e,t,i){e=Math.max(0,Math.min(e,l.length-1)),i?n.classList.add("animate"):n.classList.remove("animate");for(var r,o,d,c,f,h=a.scaleModifier,v=0;v<l.length;v++)d=l[v],t<=0?((v>e||v===e&&i)&&(d.style.opacity=1,o=s/100*(100*(v-e)+t),r="translate3d("+o+"px, 0, 0)",u(d,r)),(v===e&&!i||v===e-1&&i)&&(f=(100+(i?-100:t))/100,c=Math.min((100+h*(i?-100:t))/100,1),d.style.opacity=f,r="scale("+c+")",u(d,r))):(v>=e&&(d.style.opacity=1,o=s/100*(100*(v-e)+t),r="translate3d("+o+"px, 0, 0)",u(d,r)),v===e-1&&(f=(0+(i?-100:t))/100,c=Math.min((100*(1-h)+h*(i?-100:t))/100,1),d.style.opacity=f,r="scale("+c+")",u(d,r)));a.onPan&&a.onPan(e,t)},p=function(e){var n=f(t.DIRECTION_HORIZONTAL,e.deltaX,e.deltaY);if(!(Math.abs(n)<20)){var a=100/s*n,i=!1;"panend"!==e.type&&"pancancel"!==e.type||(Math.abs(a)>20&&"panend"===e.type&&(d+=a<0?1:-1,d=Math.min(d,l.length-1),d=Math.max(d,0)),a=0,i=!0),m(d,a,i),v(d)}},y=function(){i=new t.Manager(n),i.add(new t.Pan({direction:t.DIRECTION_HORIZONTAL,threshold:10})),i.on("panstart panmove panend pancancel",p)},g=function(){if(r!==window.innerWidth){r=window.innerWidth,s=n.getBoundingClientRect().width;for(var e=0;e<l.length;e++)l[e].style.width=s+"px";setTimeout(function(){for(var e=0,t=0;t<l.length;t++)e=Math.max(e,l[t].getBoundingClientRect().height);n.querySelector(".fade-slider__list").style.height=e},1);var t,a;for(t=0;t<l.length;t++)a="translate3d("+s*t+"px, 0, 0)",u(l[t],a)}},T=function(){function t(e){var t=0,n=h(e);l[i].addEventListener("mousedown",function(e){t=e.clientX||0}),l[i].addEventListener("mouseup",function(e){var a=(e.clientX||0)-t;if(a=Math.abs(a),a<10){var i=n===d?d-1:n;c.goToIndex(i)}})}g(),y(),n.classList.add("initialized"),window.addEventListener("resize",e(g,a.resizeThrottleDelay,{leading:!0}));for(var i=0;i<l.length;i++)t(l[i]);var r=n.querySelectorAll(".fade-slider__indicator");if(r.length>0){for(var i=0;i<r.length;i++)r[i].addEventListener("click",function(){var e=$(this).index();e!==d&&c.goToIndex(e)});r[0].classList.add("active")}};T(),this.goToIndex=function(e){if(!(e<0||e>=l.length)){var t=d-e,a=Math.abs(t),i=0,r=function(){var e=t<0?1:-1;d+=e,m(d,0,!0),i++,v(d),i<a?(n.classList.add("linear-ease"),setTimeout(r,250)):setTimeout(function(){n.classList.remove("linear-ease")},350)};r()}}}});